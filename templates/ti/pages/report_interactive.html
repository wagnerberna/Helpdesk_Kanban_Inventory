{% extends 'ti/pages/ti_base.html' %}
{% load static %}
{% comment %} load static para gráfico {% endcomment %}

{% block main %}
    {% include "global/menu.html" %}

    <div class="container">
        
        {% comment %} {%include "ti/partials/graphic_per_techical.html"%} {% endcomment %}
        
        {% comment %} <canvas id="bar_demands" width="250" height="200"></canvas> {% endcomment %}
        {% comment %} <canvas id="pie_demands" width="250" height="200"></canvas> {% endcomment %}
        <h2>Chamados por Técnico</h2>
        <canvas class="canvas-bar-small" id="bar_demands_by_technical"></canvas>
        <h2>Tarefas de Projetos por Técnico</h2>
        <canvas class="canvas-bar-small" id="bar_tasks_by_technical"></canvas>
        <h2>Ranking de Works</h2>
        <canvas class="canvas-pie-small" id="pie_workstations_ranking"></canvas>
        <h2>Quantidade de Tarefas por Projeto</h2>
        <canvas class="canvas-pie-great" id="pie_tasks_projects"></canvas>
        <h2>Tarefas por Status</h2>
        <canvas class="canvas-bar-great" id="bar_tasks_status_project"></canvas>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/make_graphics.js' %}" type="text/javascript"></script>

    {% comment %} <span>{%data.demands_total%}</span> {% endcomment %}

    <script>
        window.onload = function(e){
            {% comment %} bar_demands_test() {% endcomment %}
            {% comment %} pie_demands_test() {% endcomment %}
            bar_demands_by_technical("{% url 'api_total_techicals_demand'%} ")
            bar_tasks_by_technical("{% url 'api_total_technicals_tasks'%} ")
            
            pie_tasks_projects("{% url 'api_total_project_tasks'%} ")
            bar_tasks_status_project("{% url 'api_total_project_tasks'%} ")

            pie_workstations_ranking("{% url 'api_total_workstations_ranking'%} ")


    }
    </script>

{% endblock main %}